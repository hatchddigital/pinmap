/*! pinmap - v2.3.3 -  2019-04-01
  * Copyright (c) 2019 ; 
 */!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){"use strict";var b=function(b,c){if(this.options=a.extend({latitude:-31.95391,longitude:115.858512,popup:!1,centerOnMarker:!0},c),!b||!a(b).length)return!1;this._bindEvents(this.options),this.$element=a(b),this.markers=[];var d=a.extend({zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP,center:new google.maps.LatLng(this.options.latitude,this.options.longitude)},this.options),e=a('<div class="gm" style="width:100%;height:100%;" />').appendTo(this.$element);return this.google_map=new google.maps.Map(e[0],d),this.options.popup&&(this.popup=this.options.popup),this};return b.prototype._bindEvents=function(a){this.onMarkerClick=a.onMarkerClick||null},b.prototype.addMarker=function(a,b,c,d,e,f,g){var h=new google.maps.Marker({position:a,map:this.google_map,title:b,icon:d,optimized:!1});return g=g!==!1,h.id=c,h.popup=this.popup,h.description=e,h.type=f||{},h.current=!1,h.visible=g,this.markers.push(h),this._bindMarkerEvents(h),h},b.prototype._bindMarkerEvents=function(a){var b=this;google.maps.event.addListener(a,"click",function(){"function"==typeof b.onMarkerClick?b.onMarkerClick.call(this,b,a):a.popup&&(b.popup.id===a.id?b.popup.close():b.showMarker(a))})},b.prototype.removeMarker=function(a){var b;for(b=this.markers.length-1;b>=0;b--)this.markers[b].id===a&&(this.markers[b].current=!1,this.markers[b].setMap(null),this.markers.slice(b,1))},b.prototype.clearMarkers=function(b){var c=this;b=b||!1,a.each(this.markers,function(a,d){b&&d.type!==b||c.removeMarker(d.id)})},b.prototype.showMarker=function(a){a.popup.setContent(a.description),this.options.centerOnMarker===!0&&this.centerOnMarker({id:a.id});for(var b=this.markers.length-1;b>=0;b--)this.markers[b].current=!1;a.current=!0,a.popup.open(a.map,a,this)},b.prototype.currentMarker=function(){var a;for(a=0;a<this.markers.length;a++)if(this.markers[a].current)return this.markers[a];return null},b.prototype.nextMarker=function(){var a;for(a=0;a<this.markers.length;a++)if(this.markers[a].current)return"undefined"!=typeof this.markers[a+1]?this.markers[a+1]:this.markers[0]},b.prototype.nextMarker=function(){var a;for(a=0;a<this.markers.length;a++)if(this.markers[a].current)return"undefined"!=typeof this.markers[a+1]?this.markers[a+1]:this.markers[0]},b.prototype.previousMarker=function(){var a;for(a=0;a<this.markers.length;a++)if(this.markers[a].current)return"undefined"!=typeof this.markers[a-1]?this.markers[a-1]:this.markers[this.markers.length-1]},b.prototype.panTo=function(a){return this.google_map.panTo(a)},b.prototype.panToWithOffset=function(a,b,c){var d=this.google_map,e=new google.maps.OverlayView;e.onAdd=function(){var e=this.getProjection(),f=e.fromLatLngToContainerPixel(a);f.x=f.x+b,f.y=f.y+c,d.panTo(e.fromContainerPixelToLatLng(f))},e.draw=function(){},e.setMap(d)},b.prototype.findMarker=function(a){for(var b=this.markers.length-1;b>=0;b--)if(this.markers[b].id===a)return this.markers[b]},b.prototype.centerOnMarker=function(b){var c=b.id||!1,d=b.title||!1,e=b.zoom||!1,f=b.popup||!1,g=this;return!(!c&&!d)&&void a.each(this.markers,function(a,b){b.title!==d&&b.id!==c||(g.panTo(b.position),e&&g.google_map.setZoom(e),f&&g.showMarker(b))})},b.prototype.toggleMarkers=function(b,c){b=b||!1,a.each(this.markers,function(a,d){b&&d.type===b&&("boolean"==typeof c?d.setVisible(c):d.setVisible(!d.visible))})},b.prototype.locateUser=function(b,c){var d=this,e=a.Deferred();if(b=a.extend({pan:!0,marker:!0,icon:null},b),c=c||!1,"geolocation"in navigator)navigator.geolocation.getCurrentPosition(function(a){d.user_coordinates=new google.maps.LatLng(a.coords.latitude,a.coords.longitude),e.resolve(d.user_coordinates),b.pan&&d.panTo(d.user_coordinates),b.marker&&d.addMarker(d.user_coordinates,"Current Location",null,b.icon),c&&c(d.user_coordinates,d)},function(a){e.reject(a),c&&c(!1,d,a)});else{var f="Device does not support geolocation lookup.";e.reject(f),c&&c(!1,d,f)}return e},b.prototype.buildDirectionsUrl=function(a,b){var c="http://maps.apple.com";return a||b?(a&&b?(c=c+"?saddr="+encodeURIComponent(a),c=c+"&daddr="+encodeURIComponent(b)):c=c+"?saddr="+encodeURIComponent(a||b),c):c},a.fn.pinmap=function(c,d){c=c||{},d="function"==typeof d&&d,this.each(function(){var e=a(this),f=new google.maps.Geocoder,g=e.data("pinmap"),h=void 0!==e.attr("data-address")&&e.attr("data-address");g||e.data("pinmap",g=new b(this,c)),h&&f.geocode({address:h},function(a,b){var d;b!==google.maps.GeocoderStatus.ZERO_RESULTS&&(d=a[0].geometry.location,g.panTo(d),c.addPin&&g.addMarker(d,h))}),d&&d.call(this,g)})},b}),window.PopupSlider=function(a){"use strict";var b=function(b){return!!b.length&&(this.$element=b.find(".infoslider"),this.$element.length||(this.$element=a('<div class="popup-infoslider"></div>'),b.append(this.$element)),this)};return b.prototype.setContent=function(a){this.$element.html(a)},b.prototype.getContent=function(){return this.$element.html()},b.prototype.open=function(){this.$element.show()},b.prototype.close=function(){this.$element.hide()},b}(jQuery);